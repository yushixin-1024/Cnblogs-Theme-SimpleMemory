"use strict";(self.webpackChunkCnblogs_Theme_SimpleMemory=self.webpackChunkCnblogs_Theme_SimpleMemory||[]).push([["bannerImages"],{"./src/components/bannerImages/bannerImages.js":
/*!*****************************************************!*\
  !*** ./src/components/bannerImages/bannerImages.js ***!
  \*****************************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ main; }\n/* harmony export */ });\n/* harmony import */ var gsap_all__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gsap/all */ \"./node_modules/gsap/gsap-core.js\");\n/* harmony import */ var gsap_all__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap/all */ \"./node_modules/gsap/all.js\");\n/**\r\n * UPDATES AND DOCS AT: https://github.com/yushixin-1024\r\n * https://www.cnblogs.com/yushixin1024/\r\n * @author: BNDong, dbnuo@foxmail.com\r\n * ----------------------------------------------\r\n * @describe: banner 背景切换处理\r\n */\r\n\r\n\r\nfunction main(id, images, cols, time, sort, current) {\r\n    const main = document.getElementById(id);\r\n\r\n    let parts   = []; // 列容器对象\r\n    let playing = false; // 是否执行动画\r\n\r\n    // 生成图片对象\r\n    for (let i in images) {\r\n        new Image().src = images[i];\r\n    }\r\n\r\n    // 生成列dom\r\n    for (let col = 0; col < cols; col++) {\r\n        let part = document.createElement('div');\r\n        part.className = 'part';\r\n\r\n        let el = document.createElement('div');\r\n        el.className = \"section\";\r\n\r\n        let img = document.createElement('img');\r\n        img.src = images[current];\r\n\r\n        el.appendChild(img);\r\n        part.style.setProperty('--x', -100 / cols * col + 'vw');\r\n        part.appendChild(el);\r\n        main.appendChild(part);\r\n        parts.push(part);\r\n    }\r\n\r\n    // 动画配置\r\n    let animOptions = {\r\n        duration: 2.3,\r\n        ease: gsap_all__WEBPACK_IMPORTED_MODULE_0__.Power4.easeInOut\r\n    };\r\n\r\n\r\n    function go(dir) {\r\n        if (!playing) {\r\n            playing = true;\r\n            if (current + dir < 0) current = images.length - 1; else if (current + dir >= images.length) current = 0; else\r\n                current += dir;\r\n\r\n            function up(part, next) {\r\n                part.appendChild(next);\r\n                gsap_all__WEBPACK_IMPORTED_MODULE_1__.gsap.to(part, {...animOptions, y: (document.getElementById(id).offsetHeight * -1)}).then(function () {\r\n                    part.children[0].remove();\r\n                    gsap_all__WEBPACK_IMPORTED_MODULE_1__.gsap.to(part, {duration: 0, y: 0});\r\n                });\r\n            }\r\n\r\n            function down(part, next) {\r\n                part.prepend(next);\r\n                gsap_all__WEBPACK_IMPORTED_MODULE_1__.gsap.to(part, {duration: 0, y: (document.getElementById(id).offsetHeight * -1)});\r\n                gsap_all__WEBPACK_IMPORTED_MODULE_1__.gsap.to(part, {...animOptions, y: 0}).then(function () {\r\n                    part.children[1].remove();\r\n                    playing = false;\r\n                });\r\n            }\r\n\r\n            for (let p in parts) {\r\n                let part = parts[p];\r\n                let next = document.createElement('div');\r\n                next.className = 'section';\r\n                let img = document.createElement('img');\r\n                img.src = images[current];\r\n                next.appendChild(img);\r\n\r\n                if ((p - Math.max(0, dir)) % 2) {\r\n                    down(part, next);\r\n                } else {\r\n                    up(part, next);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // 定时执行\r\n    window.setInterval(() => {\r\n        go(sort);\r\n    }, time);\r\n}\n\n//# sourceURL=webpack://Cnblogs-Theme-SimpleMemory/./src/components/bannerImages/bannerImages.js?")}}]);